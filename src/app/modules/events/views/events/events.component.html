<div class="all-events-container">
    <div class="title-container">
        <p class="title">Eventos</p>
    </div>
    <div class="main-container">
        <div class="header">
            <div class="search-container">
                <img src="../../../../../assets/search.svg" alt="Search Icon" class="icon">
                <mat-form-field class="no-line">
                    <input style="color: white;" matInput (keyup)="applyFilter($event)" placeholder="Buscar" [(ngModel)]="searchValue">
                </mat-form-field>
            </div>
            <div style="display: flex; flex-direction: row; gap: 10px;">
                <div>
                    <button class="btn">
                        <img src="../../../../../assets/add-event.svg" alt="Add Icon" class="icon">
                        Agregar evento
                    </button>
                </div>
                <div>
                    <button class="btn-filter">
                        <img src="../../../../../assets/filter.svg" alt="Add Icon" class="icon">
                        Filtro
                    </button>
                </div>
            </div>
        </div>

        <div class="container">
            <mat-table [dataSource]="dataSource" matSort>
                <!-- Name Column -->
                <ng-container matColumnDef="name">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Nombre del evento </mat-header-cell>
                    <mat-cell *matCellDef="let row">
                        <div class="event-info">
                            <img [src]="row.eventLogoUrl" alt="Logo del evento" class="circular-image">
                            <span>{{ row.name }}</span>
                        </div>
                    </mat-cell>
                </ng-container>

                <!-- date Column -->
                <ng-container matColumnDef="date">
                    <mat-header-cell *matHeaderCellDef mat-sort-header class="wide-column"> Fecha </mat-header-cell>
                    <mat-cell *matCellDef="let row"> {{row.startTime | date: 'dd/MM/yyyy'}} </mat-cell>
                </ng-container>

                <!-- venue Column -->
                <ng-container matColumnDef="venue">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Lugar </mat-header-cell>
                    <mat-cell *matCellDef="let row"> {{row.venueName}} </mat-cell>
                </ng-container>

                <!-- agency Column -->
                <ng-container matColumnDef="agency">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Agencia </mat-header-cell>
                    <mat-cell *matCellDef="let row"> {{row.agencyName}} </mat-cell>
                </ng-container>

                <!-- Status Column -->
                <ng-container matColumnDef="status">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Estatus </mat-header-cell>
                    <mat-cell *matCellDef="let row">
                        ...
                    </mat-cell>
                </ng-container>

                <!-- Actions Column -->
                <ng-container matColumnDef="actions">
                    <mat-header-cell *matHeaderCellDef> Acciones </mat-header-cell>
                    <mat-cell *matCellDef="let row">
                        <button mat-button (click)="goToDetails(row)">
                            <img src="../../../../../assets/view.svg" alt="View Icon" class="icon">
                        </button>
                        <button mat-button (click)="goToEdit(row)">
                            <img src="../../../../../assets/edit.svg" alt="Edit Icon" class="icon">
                        </button>
                        <button mat-button (click)="onDelete(row)">
                            <img src="../../../../../assets/delete.svg" alt="Delete Icon" class="icon">
                        </button>
                    </mat-cell>
                </ng-container>

                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </mat-table>

            <mat-paginator class="custom-paginator" [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
        </div>
    </div>
</div>